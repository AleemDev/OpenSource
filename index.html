<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Opensource by DevelopersContrib</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/DevelopersContrib/OpenSource">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Opensource</h1>
            <h2>OpenSource Contrib Apps</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/DevelopersContrib/OpenSource/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/DevelopersContrib/OpenSource/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>
<a name="open-source-codeigniter-survey-library" class="anchor" href="#open-source-codeigniter-survey-library"><span class="octicon octicon-link"></span></a>Open Source Codeigniter Survey Library</h1>

<p>OpenSource Contrib Survey App is a Codeigniter library to create and monitor web surveys. Its easy to install and use.</p>

<p>Installation</p>

<ol>
<li>Copy application/libraries/contribsurvey.php to your codeigniter file system.</li>
<li>Get api key from <a href="http://www.developers.contrib.com">http://www.developers.contrib.com</a> </li>
<li>In your controller, pass your api key when calling the contrib survey library.
$this-&gt;load-&gt;library('contribsurvey',array("key"=&gt;"xxxxxxxxxxxxxxxx"));</li>
</ol><p>Contrib Survey Library Function Documentation</p>

<ol>
<li><p>authenticate - authenticates user to use contrib survey application <br>
return:<br>
      true (if authentication success)  <br>
      false (if authentication failed)<br></p></li>
<li><p>gettemplates - get all survey templates<br>
return:<br>
      array of template php filenames e.g array('AskPeopleDefault.php','CorporateBoxes.php','Floral.php',...)<br></p></li>
<li><p>getqtypes - get all question types<br>
return:<br>
      array of question types e.g. array('single','dropdown','multi',...) <br></p></li>
<li><p>createsurvey - create new survey<br>
parameter: <br> 
      template - (required) template filename<br>
      title - (required) title of survey<br>
return:<br>
      array('success'=&gt;true, 'sid'=&gt;'xxxxx') - if survey created successfully<br>
      array('success'=&gt;false) - if failed<br>
possible error:<br>
      array('error'=&gt; array('title parameter required','template parameter required')<br></p></li>
<li><p>getsurveys - get all the list or surveys created<br>
return:<br>
      array of survey id and title details e.g   array('sid'=&gt;'xxxxx','title'=&gt;'xxxxx','template'=&gt;'Floral.php')<br></p></li>
<li><p>addquestion - add a question in a survey<br>
parameter:<br>
      sid - (required) survey id<br>
      qtype - (required)  question type (single, dropdown, multi,bigbox, smallbox,pagebreak, info)<br>
      qvalid - (required) validation (optional, required)<br>
      question - (required) survey question text<br>
      options - (required for Single/Dropdown/Multi question type) choices for question separated by (|)<br>
                e.g. (a.Red|b.Blue|c.Green|d.Black)<br><br>
return:<br>
      true - if success<br>
      false - if failed<br>
possible error:<br>
    array('error'=&gt; array('invalid sid',
                          'sid parameter required',
                          'qtype parameter required',
                          'qvalid parameter required',
                          'question parameter required'
                    )<br></p></li>
<li><p>getquestions - get all questions in a survey<br>
parameter:<br>
      sid - (required) survey id<br>
return:<br>
      array of question details object      <br>
      e.g array(1) {
      [0]=&gt;
      object(stdClass)#16 (6) {
        ["questionid"]=&gt;;
        string(1) "1"
        ["type"]=&gt;
        string(6) "single"
        ["validation"]=&gt;
        string(8) "optional"
        ["questiontext"]=&gt;
        string(28) "What is your favorite color?"
        ["options"]=&gt;
        object(stdClass)#17 (4) {
          ["a.Red"]=&gt;
          string(5) "a.Red"
          ["b.Blue"]=&gt;
          string(6) "b.Blue"
          ["c.Green"]=&gt;
          string(7) "c.Green"
          ["d.Black"]=&gt;
          string(7) "d.Black"
        }
        ["scale"]=&gt;
        NULL
      }<br>
possible error:<br>
      array('error'=&gt; array('invalid sid')<br></p></li>
<li><p>editsurvey - edit survey details<br>
parameter:<br>
      sid - (required) survey id<br>
      title - (required) new survey title<br>
      template - (optional) template filename<br>
return:<br>
      true - if edit successful<br>
      false - if failed<br>
possible error:<br>
      array('error'=&gt; array('invalid sid','sid parameter required','title parameter required')<br></p></li>
<li>
<p>editquestion - edit question in a survey<br>
parameter:<br>
      sid - (required) survey id<br>
      qid - (required) question id<br>
      qtype - (required)  question type (single, dropdown, multi,bigbox, smallbox,pagebreak, info)<br>
      qvalid - (required) validation (optional, required)<br>
      question - (required) survey question text<br>
      options - (required for Single/Dropdown/Multi question type) choices for question separated by (|)<br>
                e.g. (a.Red|b.Blue|c.Green|d.Black)<br>
return:<br>
      true - if edit successful<br>
      false - if failed<br></p>

<p>possible error:<br>
      array('error'=&gt; array('invalid sid','invalid qid','sid parameter required','title parameter required')<br></p>
</li>
<li><p>deletequestion - delete a question in a survey<br>
parameter:<br>
      sid - (required) survey id<br>
      qid - (required) question id<br>
return:<br>
      true - if delete successful<br>
      false - if failed<br>
possible error:<br>
      array('error'=&gt; array('invalid sid','invalid qid','sid parameter required','qid parameter required')<br></p></li>
<li><p>deletesurvey - delete survey<br>
parameter:<br>
      sid - (required) survey id<br>
return:<br>
      true - if delete successful<br>
      false - if failed<br>
possible error:<br>
      array('error'=&gt; array('invalid sid','sid parameter required')<br></p></li>
<li>
<p>getreport - get statistics/report of a survey<br>
parameter:<br>
      sid - (required) survey id<br>
      qid - (optional) question id, default is 'all'<br>
return:<br>
      array of question and answer details object<br>
      e.g <br>
  array(1) {
  [0]=&gt;
  object(stdClass)#16 (5) {
    ["questionid"]=&gt;
    string(1) "1"
    ["questiontext"]=&gt;
    string(28) "What is your favorite color?"
    ["answered"]=&gt;
    int(4)
    ["total"]=&gt;
    int(4)
    ["stats"]=&gt;
    array(4) {
      [0]=&gt;
      object(stdClass)#17 (3) {
        ["option"]=&gt;
        string(5) "a.Red"
        ["total"]=&gt;
        int(2)
        ["percent"]=&gt;
        string(3) "50%"
      }
      [1]=&gt;
      object(stdClass)#18 (3) {
        ["option"]=&gt;
        string(6) "b.Blue"
        ["total"]=&gt;
        NULL
        ["percent"]=&gt;
        NULL
      }
      [2]=&gt;
      object(stdClass)#19 (3) {
        ["option"]=&gt;
        string(7) "c.Green"
        ["total"]=&gt;
        NULL
        ["percent"]=&gt;
        NULL
      }
      [3]=&gt;
      object(stdClass)#20 (3) {
        ["option"]=&gt;
        string(7) "d.Black"
        ["total"]=&gt;
        NULL
        ["percent"]=&gt;
        NULL
      }
    }
  }<br>
} </p>

<p>possible error:<br>
      array('error'=&gt; array('invalid sid')<br></p>
</li>
</ol><p>List of general errors</p>

<pre><code>array('error'=&gt; array(
  'Api key required',
  'Invalid api key',
  'Request not allowed'
)     
</code></pre>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/DevelopersContrib">DevelopersContrib</a> can be found on <a href="https://github.com/DevelopersContrib/OpenSource">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

    
  </body>
</html>
